import networkx as nx
import matplotlib.pyplot as plt
import pickle
import os


file = 'G_noiress.graphml'
here = os.path.dirname(os.path.abspath(__file__))
filename = os.path.join(here, 'G_noiress.graphml')
G = nx.read_graphml(filename)


G.add_edge('n0', 'n1', weight=1.9,label='roc merlet')
G.add_edge('n0', 'n10', weight=0.7,label='Jean Pachod1')
G.add_edge('n1', 'n4', weight=2.1,label='PYRAMIDE')
G.add_edge('n1', 'n8', weight=0.8,label='pyramide1')
G.add_edge('n1', 'n6', weight=0.7,label='pyramide2')
G.add_edge('n1', 'n0', weight=2.6,label='ROC MERLET')
G.add_edge('n2', 'n3', weight=2.1,label='creux1')
G.add_edge('n2', 'n0', weight=1.5,label='CHANROSSA')
G.add_edge('n2', 'n37', weight=3.1,label='MARMOTTES')
G.add_edge('n3', 'n9', weight=1.2,label='ROC MUGNIER')
G.add_edge('n3', 'n50', weight=2.2,label='GRAVELLES')
G.add_edge('n3', 'n43', weight=3.1,label='AIGUILLE DU FRUIT')
G.add_edge('n4', 'n3', weight=3,label='roc mugnier')
G.add_edge('n4', 'n14', weight=1.5,label='grandes bosses4')
G.add_edge('n5', 'n4', weight=1.2,label='plan mugnier')
G.add_edge('n5', 'n4', weight=1.7,label='mont russes')
G.add_edge('n6', 'n7', weight=1.3,label='pyramide5')
G.add_edge('n7', 'n9', weight=0.9,label='pyramide7')
G.add_edge('n7', 'n4', weight=1.1,label='pyramide6')
G.add_edge('n8', 'n5', weight=1,label='pyramide3')
G.add_edge('n8', 'n6', weight=0.9,label='pyramide4')
G.add_edge('n9', 'n15', weight=1,label='pyramide8')
G.add_edge('n9', 'n4', weight=1.6,label='grandes bosses3')
G.add_edge('n10', 'n2', weight=0.9,label='chanrossa\n')
G.add_edge('n10', 'n2', weight=1.9,label='Jean Pachod2')
G.add_edge('n11', 'n16', weight=1.2,label='praline1')
G.add_edge('n11', 'n21', weight=2.2,label='rochers4')
G.add_edge('n11', 'n19', weight=3,label='bel air')
G.add_edge('n11', 'n26', weight=0.8,label='ariondaz1')
G.add_edge('n12', 'n3', weight=4,label='gravelles')
G.add_edge('n12', 'n18', weight=1.2,label='praline5')
G.add_edge('n13', 'n12', weight=1.5,label='praline4')
G.add_edge('n13', 'n18', weight=1.9,label='praline6')
G.add_edge('n14', 'n13', weight=0.6,label='praline3')
G.add_edge('n14', 'n18', weight=1.6,label='grandes bosses5')
G.add_edge('n15', 'n11', weight=1,label='pyramide9')
G.add_edge('n16', 'n14', weight=1.1,label='praline2')
G.add_edge('n16', 'n4', weight=2,label='COMBE\n')
G.add_edge('n17', 'n9', weight=3,label='grandes bosses1')
G.add_edge('n17', 'n15', weight=3.2,label='grandes bosses2')
G.add_edge('n17', 'n19', weight=2.9,label='chapelet')
G.add_edge('n17', 'n20', weight=3,label='rochers1')
G.add_edge('n18', 'n12', weight=4,label='PTE BOSSE')
G.add_edge('n18', 'n17', weight=5,label='SIGNAL')
G.add_edge('n18', 'n23', weight=0.9,label='praline7')
G.add_edge('n18', 'n32', weight=1,label='indiens1')
G.add_edge('n19', 'n17', weight=2.9,label='CHAPELET')
G.add_edge('n19', 'n27', weight=3,label='praline11')
G.add_edge('n20', 'n21', weight=0.9,label='rochers3')
G.add_edge('n20', 'n11', weight=2,label='rochers2')
G.add_edge('n21', 'n19', weight=3,label='rochers5')
G.add_edge('n22', 'n11', weight=1.5,label='ARIONDAZ')
G.add_edge('n22', 'n18', weight=1.3,label='MARQUIS')
G.add_edge('n22', 'n32', weight=1.5,label='STEAGATHE')
G.add_edge('n22', 'n30', weight=1.4,label='BELVEDERE')
G.add_edge('n22', 'n28', weight=2.2,label='belvedere5')
G.add_edge('n23', 'n24', weight=0.7,label='praline8')
G.add_edge('n23', 'n18', weight=0.9,label='ariondaz3')
G.add_edge('n23', 'n29', weight=1.7,label='marquis1')
G.add_edge('n24', 'n25', weight=1,label='praline9')
G.add_edge('n24', 'n27', weight=1.5,label='granges2')
G.add_edge('n25', 'n19', weight=3.5,label='praline10')
G.add_edge('n25', 'n27', weight=2.1,label='carabosse')
G.add_edge('n26', 'n23', weight=0.6,label='ariondaz2')
G.add_edge('n26', 'n24', weight=0.5,label='granges1')
G.add_edge('n27', 'n26', weight=4,label='GRANGES')
G.add_edge('n27', 'n29', weight=4,label='STADE')
G.add_edge('n27', 'n31', weight=2.1,label='belvedere3')
G.add_edge('n28', 'n18', weight=1.3,label='3VALLEES')
G.add_edge('n29', 'n27', weight=1.2,label='stade')
G.add_edge('n29', 'n22', weight=2.5,label='marquis')
G.add_edge('n29', 'n32', weight=1.2,label='piste bleue1')
G.add_edge('n30', 'n27', weight=1,label='belvedere1')
G.add_edge('n30', 'n31', weight=0.5,label='belvedere2')
G.add_edge('n31', 'n22', weight=4,label='belvedere4')
G.add_edge('n32', 'n28', weight=1,label='piste bleue2')
G.add_edge('n32', 'n22', weight=0.8,label='indiens2')
G.add_edge('n33', 'n34', weight=1.1,label='roches grises1')
G.add_edge('n34', 'n35', weight=1.2,label='roches grises2')
G.add_edge('n34', 'n35', weight=0.9,label='noire')
G.add_edge('n35', 'n38', weight=1.3,label='creux2\n')
G.add_edge('n36', 'n35', weight=3.4,label='creux4')
G.add_edge('n36', 'n37', weight=1.8,label='marmottes8')
G.add_edge('n36', 'n58', weight=1,label='combe saulire1')
G.add_edge('n36', 'n67', weight=2.1,label='grand couloir')
G.add_edge('n37', 'n41', weight=1.9,label='marmottes1')
G.add_edge('n37', 'n59', weight=1.5, label='combe saulire5')
G.add_edge('n37', 'n58', weight=1.2,label='combe saulire2')
G.add_edge('n38', 'n2', weight=2,label='creux3')
G.add_edge('n38', 'n39', weight=1.5,label='lac creux1')
G.add_edge('n39', 'n33', weight=2.5,label='CREUX NOIRES')
G.add_edge('n39', 'n42', weight=1.8,label='lac creux2')
G.add_edge('n40', 'n39', weight=1.7,label='marmottes3')
G.add_edge('n40', 'n42', weight=0.8,label='marmottes4')
G.add_edge('n40', 'n47', weight=0.7,label='park city1')
G.add_edge('n41', 'n40', weight=2.4,label='marmottes2')
G.add_edge('n41', 'n43', weight=1.8,label='turcs1')
G.add_edge('n41', 'n44', weight=1.9,label='suisses1')
G.add_edge('n42', 'n46', weight=1.5,label='marmottes5')
G.add_edge('n42', 'n45', weight=1.4,label='lac creux3')
G.add_edge('n43', 'n40', weight=2,label='marmottes7')
G.add_edge('n43', 'n44', weight=0.9,label='turcs2')
G.add_edge('n44', 'n49', weight=1,label='suisses2')
G.add_edge('n45', 'n48', weight=1.1,label='lac creux4')
G.add_edge('n46', 'n2', weight=2.7,label='marmottes6')
G.add_edge('n47', 'n45', weight=1,label='rama')
G.add_edge('n47', 'n48', weight=1.2,label='park city2')
G.add_edge('n48', 'n50', weight=1.3,label='lac creux5')
G.add_edge('n49', 'n37', weight=3.5,label='SUISSES')
G.add_edge('n49', 'n52', weight=0.8,label='altiport2')
G.add_edge('n50', 'n51', weight=3.5,label='cave des creux')
G.add_edge('n50', 'n49', weight=1,label='altiport1')
G.add_edge('n51', 'n3', weight=3,label='prameruel1')
G.add_edge('n52', 'n51', weight=1.8,label='mur')
G.add_edge('n52', 'n53', weight=0.9,label='altiport3')
G.add_edge('n53', 'n51', weight=2,label='prameruel2')
G.add_edge('n53', 'n55', weight=1.7,label='pralong3')
G.add_edge('n53', 'n84', weight=3,label='altiport4')
G.add_edge('n54', 'n56', weight=1.3,label='pralong1')
G.add_edge('n54', 'n49', weight=1,label='super pralong')
G.add_edge('n54', 'n65', weight=0.9,label='bilollay verdons1')
G.add_edge('n54', 'n82', weight=1.6,label='bilollay1')
G.add_edge('n55', 'n54', weight=2,label='PRALONG')
G.add_edge('n56', 'n53', weight=1.2,label='pralong2')
G.add_edge('n56', 'n49', weight=0.9,label='pralong4')
G.add_edge('n57', 'n37', weight=3.2,label='VIZELLE')
G.add_edge('n57', 'n36', weight=2.4,label='SAULIRE')
G.add_edge('n57', 'n72', weight=1,label='verdons2')
G.add_edge('n57', 'n80', weight=1.3,label='bilollay4')
G.add_edge('n58', 'n62', weight=1.3,label='combe saulire3')
G.add_edge('n59', 'n58', weight=1.4,label='combe saulire4')
G.add_edge('n59', 'n60', weight=0.6,label='combe saulire6')
G.add_edge('n60', 'n61', weight=0.7,label='combe saulire7')
G.add_edge('n60', 'n63', weight=0.9,label='combe pylones1')
G.add_edge('n61', 'n63', weight=0.8,label='combe saulire8')
G.add_edge('n61', 'n66', weight=1,label='m1')
G.add_edge('n62', 'n67', weight=1.1,label='combe saulire10')
G.add_edge('n63', 'n62', weight=1.2,label='combe saulire9')
G.add_edge('n63', 'n68', weight=0.8,label='combe pylones2')
G.add_edge('n64', 'n57', weight=1.7,label='bilollay verdons3')
G.add_edge('n65', 'n64', weight=0.5,label='bilollay verdons2')
G.add_edge('n66', 'n65', weight=0.9,label='m3')
G.add_edge('n66', 'n64', weight=0.9,label='m2')
G.add_edge('n67', 'n70', weight=0.4,label='combe saulire11')
G.add_edge('n68', 'n69', weight=0.6,label='combe saulire13')
G.add_edge('n69', 'n71', weight=1.2,label='combe saulire14')
G.add_edge('n70', 'n68', weight=0.7,label='combe saulire12')
G.add_edge('n70', 'n73', weight=0.3,label='combe saulire15')
G.add_edge('n71', 'n57', weight=1,label='verdons1')
G.add_edge('n71', 'n72', weight=1.2,label='verdons3')
G.add_edge('n72', 'n74', weight=2,label='verdons4')
G.add_edge('n72', 'n81', weight=1,label='renard1')
G.add_edge('n73', 'n69', weight=0.5,label='combe saulire16')
G.add_edge('n73', 'n74', weight=2,label='stade descente')
G.add_edge('n74', 'n75', weight=1,label='verdons5')
G.add_edge('n74', 'n71', weight=0.88,label='SOURCES')
G.add_edge('n74', 'n73', weight=1.1,label="ROCHER DE L'OMBRE")
G.add_edge('n75', 'n76', weight=1,label='verdons6')
G.add_edge('n76', 'n77', weight=1.2,label='verdons7')
G.add_edge('n77', 'n54', weight=3,label='BIOLAY')
G.add_edge('n77', 'n78', weight=1,label='verdons8')
G.add_edge('n77', 'n88', weight=4,label='COQS')
G.add_edge('n78', 'n79', weight=2.2,label='verdons9')
G.add_edge('n79', 'n86', weight=3.2,label='BELECOTE')
G.add_edge('n79', 'n84', weight=1.9,label='JARDIN ALPIN')
G.add_edge('n79', 'n55', weight=2,label='COSPILOT')
G.add_edge('n79', 'n88', weight=2.9,label='CHENUS\t')
G.add_edge('n79', 'n57', weight=3.9,label='VERDONS')
G.add_edge('n79', 'n89',  weight=3,label='LOZE')
G.add_edge('n79', 'n110', weight=2,label='proveres1')
G.add_edge('n79', 'n110', weight=2.3,label='tovets1')
G.add_edge('n79', 'n111', weight=3,label='stade1')
G.add_edge('n79', 'n113',weight=0.7,label="jardin d'enfants")
G.add_edge('n80', 'n84', weight=1.8,label='bilollay5')
G.add_edge('n80', 'n81', weight=0.6,label='marquettty2')
G.add_edge('n81', 'n74', weight=2,label='renard2')
G.add_edge('n81', 'n85', weight=2.5,label='renard3')
G.add_edge('n82', 'n80', weight=1.7,label='bilollay2')
G.add_edge('n82', 'n80', weight=2.2,label='marquetty1')
G.add_edge('n83', 'n84', weight=0.8,label='bilollay3')
G.add_edge('n84', 'n85', weight=0.9,label='bilollay6')
G.add_edge('n84', 'n55', weight=1.1,label='bilollay7')
G.add_edge('n84', 'n86', weight=1.5,label='renard5')
G.add_edge('n85', 'n77', weight=2,label='bilollay7')
G.add_edge('n85', 'n86', weight=1,label='renard4')
G.add_edge('n86', 'n79', weight=2.4,label='renard7')
G.add_edge('n86', 'n55', weight=2.2,label='renard6')
G.add_edge('n86', 'n87', weight=3,label='renard8')
G.add_edge('n87', 'n77', weight=0.7,label='renard9')
G.add_edge('n87', 'n78', weight=1.7,label='renard10')
G.add_edge('n88', 'n90', weight=0.6,label='anemones1')
G.add_edge('n88', 'n95', weight=0.9,label='COL DE LA LOZE')
G.add_edge('n88', 'n100', weight=0.4,label='cretes1')
G.add_edge('n88', 'n126', weight=3,label='lanches')
G.add_edge('n89', 'n91', weight=3,label='loze est1')
G.add_edge('n89', 'n79', weight=5,label= 'loze')
G.add_edge('n89', 'n124', weight=0.9,label='jean luc1')
G.add_edge('n89', 'n108', weight=2,label='cretes')
G.add_edge('n89', 'n123', weight=1.9,label='dou du midi1')
G.add_edge('n89', 'n126', weight=3,label='bouc blanc1')
G.add_edge('n90', 'n92', weight=1.3,label='lac bleu1')
G.add_edge('n90', 'n91', weight=1,label='anemones2')
G.add_edge('n91', 'n92', weight=2,label='loze est2')
G.add_edge('n91', 'n93', weight=2.3,label='chenus1')
G.add_edge('n91', 'n98', weight=2,label='anemones3\t')
G.add_edge('n92', 'n94', weight=1.1,label='lac bleu2')
G.add_edge('n92', 'n94', weight=1.5,label='loze est3')
G.add_edge('n93', 'n75', weight=1.2,label='loze est5')
G.add_edge('n93', 'n76', weight=1,label='chenus2')
G.add_edge('n93', 'n99', weight=2.1,label='anemones5')
G.add_edge('n94', 'n93', weight=3.4,label='loze est4')
G.add_edge('n95', 'n96', weight=1.1,label='col de la loze1')
G.add_edge('n96', 'n97', weight=1.3,label='dou des lanches1')
G.add_edge('n96', 'n88', weight=1.2,label='col de la loze2')
G.add_edge('n97', 'n101', weight=1.2,label='dou des lanches2')
G.add_edge('n97', 'n102', weight=1.7,label='dou des lanches4')
G.add_edge('n98', 'n93', weight=1.3,label='anemones4')
G.add_edge('n98', 'n99', weight=0.9,label='jantzen')
G.add_edge('n99', 'n79', weight=1.1,label='anemones6')
G.add_edge('n100', 'n89', weight=1,label='cretes2')
G.add_edge('n101', 'n102', weight=1,label='dou des lanches3')
G.add_edge('n102', 'n103', weight=3,label='dou des lanches5')
G.add_edge('n103', 'n95', weight=1,label='DOU DES LANCHES')
G.add_edge('n103', 'n88', weight=1.5,label='PRAZ JUGET')
G.add_edge('n103', 'n127', weight=3,label='jockeys1')
G.add_edge('n103', 'n132', weight=1.4,label='plan fontaine1')
G.add_edge('n103', 'n129', weight=1.3,label='bouc blanc3')
G.add_edge('n103', 'n129', weight=2,label='folyeres1')
G.add_edge('n104', 'n103', weight=5,label='LA TANIA')
G.add_edge('n104', 'n89', weight=6,label='BOUC BLANC')
G.add_edge('n104', 'n129', weight=2,label='GROS MURGER')
G.add_edge('n105', 'n108', weight=5.2,label='FORET')
G.add_edge('n105', 'n79', weight=2,label= 'PRAZ')
G.add_edge('n107', 'n79', weight=2.1,label='GRANGETTES')
G.add_edge('n108', 'n100', weight=1.5,label='CRETES')
G.add_edge('n108', 'n124', weight=1.1,label='dou du midi8')
G.add_edge('n108', 'n126', weight=1.6,label='arolles1')
G.add_edge('n109', 'n79', weight=2.2,label='TOVETS')
G.add_edge('n110', 'n107', weight=1.9,label='proveres2')
G.add_edge('n110', 'n111', weight=2,label='tovets2')
G.add_edge('n111', 'n109', weight=1,label='stade2')
G.add_edge('n112', 'n109', weight=0.8,label='dou du midi6')
G.add_edge('n113', 'n112', weight=0.6,label='dou du midi5')
G.add_edge('n113', 'n114', weight=0.7,label='briques1')
G.add_edge('n113', 'n79', weight=2,label="JARDIN D'ENFANTS")
G.add_edge('n113', 'n119', weight=1.1,label='EPICEA')
G.add_edge('n114', 'n112', weight=0.9,label='deviation 1550_2')
G.add_edge('n114', 'n116', weight=1.2,label='briques2')
G.add_edge('n115', 'n116', weight=0.5,label='jean blanc3')
G.add_edge('n115', 'n114', weight=0.9,label='deviation1550_1')
G.add_edge('n116', 'n117', weight=1.7,label='briques3')
G.add_edge('n117', 'n105', weight=3,label='saint bon1')
G.add_edge('n117', 'n105', weight=2.1,label='amoureux')
G.add_edge('n117', 'n106', weight=3,label='saint bon2')
G.add_edge('n118', 'n79', weight=4,label='epicea5')
G.add_edge('n118', 'n113', weight=4,label=' plantrey')
G.add_edge('n118', 'n125', weight=2,label='STADE')
G.add_edge('n119', 'n120', weight=1.4,label='epicea2')
G.add_edge('n119', 'n113', weight=1.5,label='epicea1')
G.add_edge('n120', 'n121', weight=1,label='epicea3')
G.add_edge('n120', 'n113', weight=1.7,label='dou du midi4')
G.add_edge('n121', 'n118', weight=1.2,label='epicea4')
G.add_edge('n122', 'n120', weight=1.3,label='dou du midi3')
G.add_edge('n123', 'n122', weight=1.1,label='dou du midi2')
G.add_edge('n123', 'n125', weight=0.8,label='petit dou1')
G.add_edge('n124', 'n122', weight=1.1,label='dou du midi7')
G.add_edge('n125', 'n121', weight=1.9,label='jean luc2')
G.add_edge('n125', 'n121', weight=1.4,label='petit dou2')
G.add_edge('n126', 'n103', weight=1.2,label='arolles2')
G.add_edge('n126', 'n103', weight=1,label='bouc blanc2')
G.add_edge('n127', 'n128', weight=2,label='murettes1')
G.add_edge('n127', 'n128', weight=1.5,label='jockeys2')
G.add_edge('n128', 'n105', weight=2.3,label='murettes2')
G.add_edge('n129', 'n131', weight=2.1,label='folyeres2')
G.add_edge('n129', 'n130', weight=1.1,label='moretta blanche2')
G.add_edge('n129', 'n130', weight=1.24,label='plan fontaine3')
G.add_edge('n130', 'n104', weight=1.2,label='moretta blanc3')
G.add_edge('n130', 'n131', weight=1,label='plan fontaine4')
G.add_edge('n131', 'n104', weight=1,label='plan fontaine5')
G.add_edge('n132', 'n129', weight=1,label='moretta blanche1')
G.add_edge('n132', 'n129', weight=2,label='plan fontaine2')

pickle_file = "rotten_pickle.gpickle"
filename_pickle = os.path.join(here, 'rotten_pickle.gpickle')

#save graph object to file
pickle.dump(G, open(filename_pickle, 'wb'))

#load graph object from file
G_rotten = pickle.load(open(filename_pickle, 'rb'))

#nx.draw(G, with_labels=True)
for edge in G_rotten.edges(data = True):
    print(edge)
    #for edge in G.edges(data = True):
    #print(edge)
#count edges in graph
print(G_rotten.number_of_edges())
#print(G.nodes['n28']['label'])
#nx.draw(G)
#plt.show()